<!--

    Copyright (c) 2015 Codenvy, S.A.
    All rights reserved. This program and the accompanying materials
    are made available under the terms of the Eclipse Public License v1.0
    which accompanies this distribution, and is available at
    http://www.eclipse.org/legal/epl-v10.html

    Contributors:
      Codenvy, S.A. - initial API and implementation

-->
<cdvy-toolbar cdvy-title="Admin Onboarding" cdvy-subheader-title="Finalize your installation in 2 steps..." theme="onboarding-theme"></cdvy-toolbar>

<md-content class="onpremise-onboarding-content" md-scroll-y flex md-theme="maincontent-theme">
  <div ng-hide="onPremisesOnboardingCtrl.isCompleted()">
    <cdvy-panel class="onpremise-onboard-panel"
                ng-class="onPremisesOnboardingCtrl.currentStep >= 1 ? 'onboard-panel-step-enabled' : 'onboard-panel-step-disabled'"
                cdvy-toggle="true"
                cdvy-title-svg-icon="{{onPremisesOnboardingCtrl.getIconStep(1)}}"
                cdvy-title="Step 1 - Get Started"
                cdvy-panel-id="onpremise-onboarding-step1"
                ng-init="onPremisesOnboardingCtrl.initStep(1)">

      <div layout="row" layout-align="start center">
        <image class="image-panel" src="assets/images/admin/on-prem-black.png" width="65px"></image>
        <div layout="column" layout-align="center start" flex class="on-premise-on-boarding-marketing-text">
          Welcome!</span> Codenvy On-Prem is a private, extensible, and secure developer workspace cloud.
        </div>
      </div>

      <div layout="column" class="on-premise-on-boarding-marketing-buttons" layout-margin flex layout-align="center center">
        <div layout="row" >
          <cdvy-link ng-href="http://helpdesk.codenvy.com/" target="_blank" cdvy-link-text="Troubleshooting"></cdvy-link> | <cdvy-link ng-href="http://docs.codenvy.com/onpremises/evaluators-guide/" target="_blank" cdvy-link-text="Sizing"></cdvy-link> | <cdvy-link ng-href="http://docs.codenvy.com/onpremises/system-administration/" target="_blank" cdvy-link-text="Administration"></cdvy-link> | <cdvy-link ng-href="https://codenvy.com/onprem" target="_blank" cdvy-link-text="Marketing"></cdvy-link>
        </div>
        <cdvy-button-default id="onprem-onboard-welcome-ok-button"
                             cdvy-button-title="CONTINUE"
                             ng-click="onPremisesOnboardingCtrl.validateMarketing()"
                             class="onprem-onboard-welcome-ok-button"></cdvy-button-default>
      </div>
    </cdvy-panel>

    <div class="onboard-separator" layout="row" layout-align="center center">
      <md-icon md-svg-src="assets/images/next-step-separator.svg"></md-icon>
    </div>

    <cdvy-panel class="onpremise-onboard-panel"
                ng-class="onPremisesOnboardingCtrl.currentStep >= 2 ? 'onboard-panel-step-enabled' : 'onboard-panel-step-disabled'"
                cdvy-toggle="true"
                cdvy-title-svg-icon="{{onPremisesOnboardingCtrl.getIconStep(2)}}"
                cdvy-title="Step 2 - Review Agreement"
                cdvy-collapse="true"
                cdvy-panel-id="onpremise-onboarding-step2"
                ng-init="onPremisesOnboardingCtrl.initStep(2)">
      <div layout="row" class="on-premise-on-boarding-agreement-box" layout-margin flex layout-align="center center">
        <iframe flex src="assets/html/agreement.html" class="on-premise-on-boarding-iframe-agreement"></iframe>
      </div>
      <div class="on-premise-on-boarding-agreement-buttons" layout="column" layout-margin flex layout-align="center center">
        <span class="on-premise-on-boarding-agreement-label-button">
        By clicking accept, Codenvy grants you a 1 year, automatically renewable On-Premises Free Subscription (section 7.2.1). Enjoy!</span><br>
        <cdvy-button-default id="onprem-onboard-agreement-accept-button"
                             cdvy-button-title="Accept"
                             ng-disabled="onPremisesOnboardingCtrl.isValidateAgreementDisabled()"
                             ng-click="onPremisesOnboardingCtrl.validateAgreement()"
                             class="onprem-onboard-agreement-accept-button"></cdvy-button-default>
      </div>
    </cdvy-panel>
  </div>

  <div ng-show="onPremisesOnboardingCtrl.isCompleted()">
    Onboarding has been done. Nothing to do.
  </div>
  <div ng-if="onPremisesOnboardingCtrl.inDevelopmentMode()">
    Only in development mode:
    <cdvy-button-primary cdvy-button-title="set flag for asking admin onboarding" ng-click="onPremisesOnboardingCtrl.resetOnboardingAdminFlag()"></cdvy-button-primary>
  </div>


</md-content>
