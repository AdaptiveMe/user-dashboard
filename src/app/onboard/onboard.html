<!--

    Copyright (c) 2015 Codenvy, S.A.
    All rights reserved. This program and the accompanying materials
    are made available under the terms of the Eclipse Public License v1.0
    which accompanies this distribution, and is available at
    http://www.eclipse.org/legal/epl-v10.html

    Contributors:
      Codenvy, S.A. - initial API and implementation

-->
<cdvy-toolbar cdvy-title="Welcome to Codenvy" cdvy-subheader-title="Setup your account in 4 steps..." theme="onboarding-theme"></cdvy-toolbar>
<!--<md-toolbar class="md-toolbar-tools" md-theme="onboarding-theme">
</md-toolbar>-->

<md-content class="onboarding-content" md-scroll-y flex>
<div class="onboarding-first-panel" md-theme="onboarding-theme">

  <cdvy-panel class="onboard-panel"
              cdvy-toggle="true"
              cdvy-title-svg-icon="assets/images/completed.svg"
              cdvy-title="Step 1 - Verify email"
              cdvy-panel-id="onboarding-step1"
              cdvy-lock-mode="true">
    <ng-form name="verifyEmailForm" ></ng-form>
    <!-- For now, the server workflow is not allowing to confirm an email address with this way
      <div class="onboard-complete-signup-text">To complete the signup process, we need to confirm that you own the email address you used to set up the account:</div>
      <cdvy-input cdvy-form="verifyEmailForm"
                  cdvy-name="email"
                  cdvy-label-name="Email"
                  cdvy-place-holder="email"
                  ng-model="onBoardCtrl.profile.attributes.email"
                  type="email"
                  required
                  readonly
                  ng-maxlength="128">
        <div ng-message="required">A name is required.</div>
        <div ng-message="email">A valid email is required.</div>
        <div ng-message="maxlength">The name has to be less than 128 characters long.</div>
      </cdvy-input>
      <div layout="row" layout-align="center center">
        <cdvy-button-primary cdvy-button-title="confirm" ng-click="onBoardCtrl.confirmEmail()"></cdvy-button-primary>
      </div>-->
  </cdvy-panel>
</div>

  <div class="onboard-separator" layout="row" layout-align="center center">
    <md-icon md-svg-src="assets/images/next-step-separator.svg"></md-icon>
  </div>


  <cdvy-panel class="onboard-panel"
              ng-class="onBoardCtrl.currentStep >= 2 ? 'onboard-panel-step-enabled' : 'onboard-panel-step-disabled'"
              cdvy-toggle="true"
              cdvy-title-svg-icon="{{onBoardCtrl.getIconStep(2)}}"
              cdvy-title="Step 2 - Complete profile"
              cdvy-panel-id="onboarding-step2"
              ng-init="onBoardCtrl.initStep(2)">
    <ng-form name="profileInformationForm">
    <div layout="row" layout-align="start center">
      <image class="image-panel" src="assets/images/image-operator.png" width="200px"></image>
      <div layout="column" flex>
          <account-profile ng-init="onBoardCtrl.setAccountProfile(this);onBoardCtrl.setAccountProfileForm(profileInformationForm)" accountForm="profileInformationForm"></account-profile>
          <div layout="row" layout-align="center center">
            <cdvy-button-primary cdvy-button-title="complete signup" ng-disabled="onBoardCtrl.isCompleteSignupButtonDisabled()" ng-click="onBoardCtrl.completeProfile()"></cdvy-button-primary>
          </div>
      </div>
    </div>
    </ng-form>
  </cdvy-panel>

  <div class="onboard-separator" layout="row" layout-align="center center">
    <md-icon md-svg-src="assets/images/next-step-separator.svg"></md-icon>
  </div>

  <cdvy-panel class="onboard-panel"
              ng-class="onBoardCtrl.currentStep >= 3 ? 'onboard-panel-step-enabled' : 'onboard-panel-step-disabled'"
              cdvy-toggle="true"
              cdvy-title-svg-icon="{{onBoardCtrl.getIconStep(3)}}"
              cdvy-title="Step 3 - Add a credit card (optional)"
              cdvy-collapse="true"
              cdvy-panel-id="onboarding-step3"
              ng-init="onBoardCtrl.initStep(3)">
    <ng-form name="creditCardForm">
      <div layout="row" layout-align="start center">
        <i class="cdvyfont cdvyico-creditcard" ></i>

        <div layout="column" flex>
      <cdvy-button-primary cdvy-button-title="Add" ng-click="onBoardCtrl.addCreditCard()"></cdvy-button-primary>
      <cdvy-button-default cdvy-button-title="Skip" ng-click="onBoardCtrl.skipCreditCard()"></cdvy-button-default>
        </div>
      </div>
    </ng-form>
    </div>

  </cdvy-panel>

  <div class="onboard-separator" layout="row" layout-align="center center">
    <md-icon md-svg-src="assets/images/next-step-separator.svg"></md-icon>
  </div>


  <cdvy-panel class="onboard-panel"
              ng-class="onBoardCtrl.currentStep >= 4 ? 'onboard-panel-step-enabled' : 'onboard-panel-step-disabled'"
              cdvy-toggle="true"
              cdvy-title-svg-icon="assets/images/to-complete.svg"
              cdvy-title="Step 4 - Create project"
              cdvy-collapse="true"
              cdvy-panel-id="onboarding-step4">
    <ng-form name="creditCardForm" >
      <div layout="row" layout-align="start center">
        <image class="image-panel" src="assets/images/image-laptop.png" width="200px"></image>

        <div layout="column" flex>
          <cdvy-button-primary cdvy-button-title="Create project" ng-click="onBoardCtrl.createProject()"></cdvy-button-primary>
        </div>
      </div>
    </ng-form>

  </cdvy-panel>

  <cdvy-button-primary cdvy-button-title="reset onboarding flow for testing purpose" ng-click="onBoardCtrl.deleteOnBoardingCompleted()"></cdvy-button-primary>



</md-content>
